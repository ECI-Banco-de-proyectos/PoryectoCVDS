<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:o="http://omnifaces.org/ui"
      xmlns:p="http://primefaces.org/ui">
	  <h:head>
        <title>#{usuarioBean.nombre}</title>
    </h:head>
	<h:body>
		<p:tabMenu activeIndex="0">
			<p:menuitem value="Perfiles" outcome="Perfiles.xhtml" icon="ui-icon-script">
			</p:menuitem>
			<p:menuitem value="Datos" outcome="Administrador.xhtml" icon="ui-icon-document">
			</p:menuitem>
			<p:menuitem value="Cambiar Iniciativa" outcome="CambiarIniciativa.xhtml" icon="ui-icon-document">
			</p:menuitem>
			<p:menuitem value="Busqueda de Iniciativa" outcome="busquedaIniciativa.xhtml" icon="ui-icon-document">
			</p:menuitem>
		</p:tabMenu>
		
		<h:form>
		<p:outputLabel for="@next" value="Seleccione ID: " /><br/>
		<p:selectOneMenu id="Lista" value="#{adminBean.indice}" dynamic="true" style="width:125px" requerid="true">
			<f:selectItem itemLabel="Select Id" itemValue="" />
			<f:selectItems value="#{adminBean.list}"/>
		</p:selectOneMenu><br/>
		<p:message for="Lista" display="text" />
		<p:outputLabel for="@next" value="Seleccione: rol" /><br/>
		<p:selectOneMenu id="Roles" value="#{adminBean.rol}" dynamic="true" style="width:300px">
			<f:selectItem itemLabel="Select rol" itemValue="" />
			<f:selectItems value="#{adminBean.roles}"/>
		</p:selectOneMenu><br/>
		<p:commandButton value="Aplicar Cambios" action="#{adminBean.actualizarPerfil()}" update="confirmacion">
			<p:confirm header="Cambiar rol de un usuario" message="¿Está seguro?" icon="pi pi-exclamation-triangle" />
		</p:commandButton>
		<p:growl id="confirmacion" showDetail="true" />	
		<p:confirmDialog global="true" showEffect="fade" hideEffect="fade">
			<p:commandButton value="Yes" type="button" styleClass="ui-confirmdialog-yes" icon="pi pi-check" />
			<p:commandButton value="No" type="button" styleClass="ui-confirmdialog-no" icon="pi pi-times" />
		</p:confirmDialog>
		</h:form>
	</h:body>

</html>	
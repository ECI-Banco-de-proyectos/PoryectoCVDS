<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:o="http://omnifaces.org/ui"
      xmlns:p="http://primefaces.org/ui">
	  <h:head>
        <title>Iniciativas</title>
	    <style>
		html{
				background: url("Fondo.jpg");
				background-size: 120% auto;
				background-repeat: no-repeat;
			}
		</style>
    </h:head>
	<h:body>
		<h:form>
			<p:tabMenu activeIndex="0">
				<p:menuitem value="Salir" action="#{usuarioBean.desconectarUsuario()}" icon="ui-icon-close" style="position: absolute; left: 825px;"></p:menuitem>
			</p:tabMenu>
		</h:form>
        <center><h1>Insertar Iniciativa</h1></center>
        <center><h:form>
			<p:growl id="confirmacion" showDetail="true" />	
            <!--Por favor no cambiar el 'id':-->
			<p:panelGrid columns="2">
			<p:outputLabel for="@next" value="Nombre de usuario"/>
			<p:inputText value="#{usuarioBean.nombre}" readonly="true"/>
			<p:outputLabel for="@next" value="Rol de usuario"/>
			<p:inputText value="Proponente Iniciativa" readonly="true"/>
			<p:outputLabel value="Inserte nombre de la iniciativa" for="nombre" />
            <p:inputText id="nombre" value="#{proBean.nombreIniciativa}"></p:inputText>
			<p:outputLabel value="Seleccione estado" for="estado" />
            <p:selectOneMenu value="#{proBean.estado}" id="estado">
				<f:selectItem itemValue = "En_Espera_De_Revision" itemLabel = "En espera de revision" />
				<f:selectItem itemValue = "En_Revision" itemLabel = "En revision" />
				<f:selectItem itemValue = "Proyecto" itemLabel = "Proyecto" />
				<f:selectItem itemValue = "Solucionado" itemLabel = "Solucionado" />
			</p:selectOneMenu>
			<p:outputLabel value="Descripcion" for="des" />
            <p:inputText id="des" value="#{proBean.descripcion}" />
			</p:panelGrid>
            <p:commandButton value="Insertar iniciativa" action="#{proBean.insertarIniciativa(usuarioBean.getNombre(),usuarioBean.getContraseña())}" update="confirmacion">
				<p:confirm header="Insertar iniciativa" message="¿Está seguro?" icon="pi pi-exclamation-triangle" />
			</p:commandButton>
			<p:confirmDialog global="true" showEffect="fade" hideEffect="fade">
				<p:commandButton value="Yes" type="button" styleClass="ui-confirmdialog-yes" icon="pi pi-check" />
				<p:commandButton value="No" type="button" styleClass="ui-confirmdialog-no" icon="fa fa-close" />
			</p:confirmDialog>
        </h:form></center>
    </h:body>
</html>